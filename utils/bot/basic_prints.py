from aiogram import types

from utils.bot.bots_worker import get_amount_of_users
from data.config import BOT_USERNAME, BOT_VERSION, BOT_TELEGRAM_CHANNEL_USERNAME, BOT_TELEGRAM_GROUP_USERNAME, \
    BOT_RELEASE_NAME, SUPPORT_BOT_USERNAME
from utils.users.users import active_now
from utils.async_process_runner import start

import sqlite3
from threading import Thread


async def welcome_user(message: types.Message) -> str:
    return f'''
üñê –ü—Ä–∏–≤–µ—Ç, {message.from_user.first_name}, –≤—ã–±–µ—Ä–∏ –∂–µ–ª–∞–µ–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ!

üó£ –ù–∞—à –∫–∞–Ω–∞–ª: *{BOT_TELEGRAM_CHANNEL_USERNAME}*
üë• –ù–∞—à —á–∞—Ç: *{BOT_TELEGRAM_GROUP_USERNAME}*'''


async def get_amount_of_users_in_all_bots() -> int:
    conn = sqlite3.connect('./data/databases/users.sqlite3')
    c = conn.cursor()
    try:
        amount_of_users = c.execute('SELECT COUNT(id) FROM USERS').fetchone()[0]
    except IndexError:
        amount_of_users = 1
    c.close()
    conn.close()
    return amount_of_users


async def check_amount_of_users(message: types.Message, bot_id: int) -> str:
    Thread(target=start, args=(active_now, [str(message.from_user.id), message.chat.id, bot_id])).start()
    conn = sqlite3.connect('./data/databases/users.sqlite3')
    c = conn.cursor()
    try:
        amount_of_daily_users = c.execute(f'SELECT COUNT(id) FROM DAILY_USERS').fetchone()[0]
    except IndexError:
        amount_of_daily_users = 1
    c.close()
    conn.close()
    users_in_this_bot, daily_users_in_this_bot = await get_amount_of_users(bot_id)
    return f"‚ÑπÔ∏è –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–æ—Ç–∞: {await get_amount_of_users_in_all_bots()}, –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞ —Å–µ–≥–æ–¥–Ω—è: {amount_of_daily_users}.\n\nü§ñ –ö–æ–ª–∏—á–µ—Å–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —ç—Ç–æ–º –±–æ—Ç–µ: {users_in_this_bot}, –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞ —Å–µ–≥–æ–¥–Ω—è: {daily_users_in_this_bot}."


async def for_content_owners(message: types.Message, bot_id: int) -> str:
    Thread(target=start, args=(active_now, [str(message.from_user.id), message.chat.id, bot_id])).start()
    return '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±–ª–æ–∂–µ–∫ —É—á–µ–±–Ω–∏–∫–æ–≤, –∞ —Ç–∞–∫–∂–µ –≤—ã–¥–µ—Ä–∂–∫–∏ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —É—á–µ–±–Ω—ã—Ö –ø–æ—Å–æ–±–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã ' \
           '–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—ã–¥–µ—Ä–∂–µ–∫ –∏–∑ —É—á–µ–±–Ω—ã—Ö –ø–æ—Å–æ–±–∏–π –≤ "—Ä–∞–∑—É–º–Ω—ã—Ö ' \
           '–ø—Ä–µ–¥–µ–ª–∞—Ö", –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ–±–ª–æ–∂–µ–∫ —É—á–µ–±–Ω–∏–∫–æ–≤ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Å–∏–ª—É –ø–æ–ª–æ–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏ 1274 ' \
           '–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ –∫–æ–¥–µ–∫—Å–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏. –ò—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –ø—Ä–∏—Å—ã–ª–∞–µ–º—ã—Ö –±–æ—Ç–æ–º, –≤ –≤–∏–¥–µ —Ñ–æ—Ç–æ-–æ—Ç–≤–µ—Ç–∞ ' \
           '–≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏/–∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, —è–≤–ª—è–µ—Ç—Å—è —Å–∞–π—Ç (–∏—Å—Ç–æ—á–Ω–∏–∫) ' \
           'https://megaresheba.ru. –û–Ω–∏ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏–π –Ω–æ–º–µ—Ä–æ–≤) –Ω–æ—Å—è—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —Ü–∏—Ç–∏—Ä—É–µ–º—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ ' \
           '–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —É—á–µ–±–Ω—ã—Ö(–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö) –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Ü–µ–ª—è—Ö (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—É–Ω–∫—Ç–∞–º–∏ 1, ' \
           '4 —á–∞—Å—Ç–∏ 1 —Å—Ç–∞—Ç—å–∏ 1274 –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ –∫–æ–¥–µ–∫—Å–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏). –ü—Ä–æ–µ–∫—Ç @ReshenijaBot —è–≤–ª—è–µ—Ç—Å—è ' \
           '–Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–º, –æ–Ω –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∏–∫–∞–∫–æ–π –ø—Ä–∏–±—ã–ª–∏. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ü–µ–ª—å, —Å –∫–æ—Ç–æ—Ä–æ–π —Å–æ–∑–¥–∞–≤–∞–ª—Å—è —ç—Ç–æ—Ç –±–æ—Ç (' \
           '–ø—Ä–æ–µ–∫—Ç @ReshenijaBot) ‚Äî —ç—Ç–æ —É—Å–∫–æ—Ä–∏—Ç—å –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —Ç—Ä—É–¥–Ω–æ–µ –∏ –Ω–µ–ª—é–±–∏–º–æ–µ –∑–∞–¥–∞–Ω–∏–µ. –ö–æ–Ω—Ç–µ–Ω—Ç ' \
           'Chat GPT, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –±–æ—Ç–æ–º, –ø–æ–ª—É—á–µ–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ chat gpt –∏ –µ–µ api (' \
           'https://chat.openai.com).'


async def for_users(message: types.Message, bot_id: int) -> str:
    Thread(target=start, args=(active_now, [str(message.from_user.id), message.chat.id, bot_id])).start()
    return f'''‚ù§Ô∏è –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–ª—å–∑—É–µ—Ç–µ—Å—å @ReshenijaBot!

üì¢ –ù–∞—à –∫–∞–Ω–∞–ª: *{BOT_TELEGRAM_CHANNEL_USERNAME}*
üë• –ù–∞—à —á–∞—Ç: *{BOT_TELEGRAM_GROUP_USERNAME}*
üõü –ü–æ–¥–¥–µ—Ä–∂–∫–∞: *{SUPPORT_BOT_USERNAME}*

‚ÑπÔ∏è *–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*:
–•–æ—Ç–∏–º —É–≤–µ–¥–æ–º–∏—Ç—å –í–∞—Å –æ —Ç–æ–º, —á—Ç–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –±–æ—Ç–∞ (@ReshenijaBot), –¥–∞–ª–µ–µ - –±–æ—Ç, –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±–æ–π —É—â–µ—Ä–±, –≤–æ–∑–Ω–∏–∫—à–∏–π –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤–∞—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏/–∏–ª–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–π –∏–º, –∞ —Ç–∞–∫–∂–µ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ –∏/–∏–ª–∏ –Ω–µ–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–π –±–æ—Ç–æ–º!

ü§ñ *Chat GPT*:
–°–µ–≥–æ–¥–Ω—è –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è. –ë–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ–º–ø–∞–Ω–∏–∏ Open AI –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∞—Å –º–æ–∂–µ—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ª—É—á—à–µ–º—É –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É –≤ –∏—Å—Ç–æ—Ä–∏–∏. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É —Å–ø–µ–∫—Ç—Ä –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç —Ä–µ—à–∞—Ç—å –±–æ—Ç —É–≤–µ–ª–∏—á–∏–ª—Å—è. –°–æ–∑–¥–∞—Ç–µ–ª—å –±–æ—Ç–∞ –Ω–∞–¥–µ–µ—Ç—Å—è, —á—Ç–æ –≤—ã, —É–≤–∞–∂–∞–µ–º—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–æ-–¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤—É –æ—Ü–µ–Ω–∏—Ç–µ —ç—Ç–∏ –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –Ø –¥–µ–ª–∞—é –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª Chat GPT. –ù–æ –º–Ω–µ –±—ã —Ö–æ—Ç–µ–ª–æ—Å—å –∑–∞—Ä–∞–Ω–µ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å –≤–∞—Å –æ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–º—É –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Ç–æ –∏–∑ –±–æ—Ç–∞ –æ–Ω –ø—Ä–æ–ø–∞–¥–µ—Ç. 

*–ñ–µ–ª–∞—é –ø—Ä–∏—è—Ç–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤!*
'''


async def bot_information(message: types.Message, bot_id: int) -> str:
    Thread(target=start, args=(active_now, [str(message.from_user.id), message.chat.id, bot_id])).start()
    return f''' ü§ñ: –í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ *{BOT_USERNAME}*

#‚É£ : –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ - *{BOT_VERSION}*

üóì: –†–µ–ª–∏–∑ - *{BOT_RELEASE_NAME}*

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–∞—à —Ç–µ–ª–µ–≥—Ä–∞–º–º –∫–∞–Ω–∞–ª 
üì¢ *{BOT_TELEGRAM_CHANNEL_USERNAME}* –∏ —á–∞—Ç
üë• *{BOT_TELEGRAM_GROUP_USERNAME}*!
–í –Ω–∏—Ö –≤—ã –Ω–∞–π–¥–µ—Ç–µ –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ, –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö, –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

‚ù§Ô∏è –°–¥–µ–ª–∞–Ω–æ –≤ *–†–æ—Å—Å–∏–∏ üá∑üá∫*
üêç –ù–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ *Python*
'''
